\chapter{Theory}
\label{chap:theory}
Earnshaw's theorem implies that it is impossible to achieve stable levitation using static fields alone. This is because the effective potential is always a saddle point. A dynamic field however can, averaged over time, create a local minimum. A magnetic Paul trap is a trap uses magnetic fields to achieve this\cite{perdriat}.

\section{Magnetic levitation}
\label{sec:magnetic_levitation}
Obtaining and then maintaining stable magnetic levitation requires three fields: a static homogenous field to align the magnet ($\vec{B_0}$); an alternating field containing the saddle point ($\vec{B_1}$); and a gradient field to counter the gravitational offset ($\vec{B_2}$). This follows from simulations and our previous experience \cite{perdriat,mart,eli}. Combining this with the magnetic moment of the levitated particle $\vec{\mu}$ allows us to derive (up to second order) the magnetic potential. Averaging over the oscillation period gives allows us to derive the associated eigenfrequencies.

\subsection{Fields}
\label{subsec:fields}
The homogeneous field is given in \autoref{eq:homogeneous_field}. It is oriented in the $z$-axis with magnitude $B_0$. Homogenous fields can (locally) be created using Helmholtz coils.
\begin{equation}
    \vec{B_0}(\vec{r}, t) = \vec{B_0} = B_0 \zhat
    \label{eq:homogeneous_field}
\end{equation}

Rotating a saddle point sufficiently fast effectively creates a (local) minimum. The field is given in \autoref{eq:saddle_point}. $B_1''$ is the curvature of $\vec{B_1}$ and $\Omega / 2\pi$ the frequency of the oscillation. The field can be created using two loops of wire with a current in opposite directions in the same plane, a so called magnetic Paul Trap. These loops are the main focus of this thesis. Given the radius of the inner loop $r_1$ we can express the curvature as $B_1'' = -\frac{9}{16}\mu_0i_1/r_1^3$ where $i_1$ is the current through the loop\footnote{This uses the requirement that $i_1/i_2 = -r_1/r_2$ and that $i_1$ and $i_2$ oppose each other (clockwise and anti-clockwise).}.
\begin{equation}
    \vec{B_1}(\vec{r}, t) = \frac{B_1''}{2} \begin{pmatrix}
        -xz \\
        +yz \\
        z^2 - \frac{1}{2}\left(x^2 + y^2\right)
    \end{pmatrix} \cos(\Omega t)
    \label{eq:saddle_point}
\end{equation}

Finally we have the gradient field, given in \autoref{eq:gradient_field}. The required gradient can be expressed as $B_2' = mg/\mu$ where $m$ is the mass of the levitated particle, $g$ the gravitational acceleration and $\mu$ the magnetic moment of the particle. The gradient serves to offset the effect of gravity. As such the gradient is oriented in the $z$-axis. The gradient field can be created by using a larger current in one of the Helmholtz coils.
\begin{equation}
    \vec{B_2}(\vec{r}, t) = B_2' \begin{pmatrix}
        -x / 2 \\
        -y / 2 \\
        z
    \end{pmatrix}
    \label{eq:gradient_field}
\end{equation}

\subsection{Magnetic potential}
\label{subsec:magnetic_moment}
Using the $zyz$ convention for the Euler angles $\alpha$, $\beta$, $\gamma$) we can express the magnetic moment as in \autoref{eq:magnetic_moment}. In this equation $\tilde\beta = \beta - \pi/2$.
\begin{equation}
    \vec{\mu} = -\mu \begin{pmatrix}
        -\cos(\alpha)\sin(\tilde\beta)\cos(\gamma) - \sin(\alpha)\sin(\gamma) \\
        \cos(\alpha)\sin(\gamma) - \sin(\alpha)\sin(\tilde\beta)\cos(\gamma) \\
        -\cos(\tilde\beta)\cos(\gamma)
    \end{pmatrix}
    \label{eq:magnetic_moment}
\end{equation}

By taking the inner product of the magnetic moment and the fields we can derive the magnetic potential. This is given in \autoref{eq:magnetic_potential}. The potential is a function of the position of the particle $\vec{r}$ and the orientation of the magnetic moment $\vec{\mu}$.
\begin{equation}
    E_\text{mag}(\vec{r}, \vec{\mu}) = \mu B_0 \left(\frac{\gamma^2}{2} + \frac{\tilde\beta^2}{2}\right) - \frac{\mu B_1''}{2} \left(z^2 - \frac{1}{2}\left(x^2 + y^2\right)\right)\cos(\Omega t)
    \label{eq:magnetic_potential}
\end{equation}

\subsection{Eigenfrequencies}
\label{subsec:eigenfrequencies}
Starting from \autoref{eq:magnetic_potential} and averaging over the oscillation period we can derive the eigenfrequencies. They are given in \autoref{eq:eigenfrequencies}. In these equations $a$ is the radius of the levitated particle (such that $V \sim a^3$) and $\rho_m$ is the density of the particle. The eigenfrequencies associated with the orientation of the magnet depend on $B_0$, which intuitively makes sense since the orientation of the magnet is determined by the homogenous field. The eigenfrequencies associated with the position of the magnet depend on $B_1''$, which also makes sense since the alternating field is what restricts the movement of the particle.
\begin{equation}
    \begin{gathered}
        \omega_\gamma = \omega_{\beta} = \sqrt{\frac{5}{2}\frac{B_0B_\text{sat}}{\mu_0 \rho_m a^2}} \\
        \omega_z = 2\omega_x = 2\omega_y = \frac{\Omega \abs{q_z}}{2\sqrt{2}} = \frac{1}{\sqrt{2}}\frac{B_1''B_\text{sat}}{\mu_0\rho_m\Omega}
    \end{gathered}
    \label{eq:eigenfrequencies}
\end{equation}

The time average is valid if $\abs{q_z}$, as defined in equation \ref{eq:frequency-constraint}, is less than or equal to $0.4$.
\begin{equation}
    q_z = -2q_x = -2q_y = \frac{2}{\Omega^2}\frac{B_1''B_{\text{sat}}}{\mu_0\rho_m}
    \label{eq:frequency-constraint}
\end{equation}

Rotation around the $z$-axis (the angle $\alpha$) is not restricted by any magnetic field. This is because of the spherical symmetry in the system around the $z$-axis. If we assume that the particle is in thermal equilibrium then we can estimate the angular frequency:
\begin{equation}
    I\omega_\alpha^2 \approx k_B T \Rightarrow \omega_\alpha \approx \sqrt{\frac{k_B T}{I}} = \sqrt{\frac{15 k_B T}{8 \pi \rho_m a^5}}
\end{equation}
In this equation $I$ is the moment of inertia of the particle. The moment of inertia of a sphere is given by $I = 2/5 m a^2$. Due to the spherical symmetry of the particle this mode is very hard to detect.
